<div [ngClass]="{'sidebar-expanded': isOpen, 'sidebar-collapsed': !isOpen}" class="sidebar d-flex flex-column">
  <div class="toggle-btn" (click)="toggleSidebar()">
    <i class="bi bi-chevron-right" *ngIf="!isOpen"></i>
    <i class="bi bi-chevron-left" *ngIf="isOpen"></i>
  </div>

  <div class="profile text-center" *ngIf="isOpen">
    <img src="assets/images/logo.jpg" alt="user" class="profile-img">
    <h5 class="mt-2">ProJect 3D</h5>
    <small>Web developer</small>
  </div>

  <ul class="nav flex-column mt-3">
    <!-- หน้าแรก: ทุกคนเห็น -->
    <li class="nav-item">
      <a class="nav-link d-flex align-items-center" routerLink="/home" routerLinkActive="active">
        <i class="bi bi-house"></i>
        <span *ngIf="isOpen" class="ms-2">หน้าแรก</span>
      </a>
    </li>
    <!-- บริการของเรา: user และ admin เห็น -->
    <li class="nav-item" *ngIf="auth.isLoggedIn()">
      <a class="nav-link d-flex align-items-center" routerLink="/services" routerLinkActive="active">
        <i class="bi bi-card-list"></i>
        <span *ngIf="isOpen" class="ms-2">บริการของเรา</span>
      </a>
    </li>
    
    <!-- โปรไฟล์: user และ admin เห็น -->
    <li class="nav-item" *ngIf="auth.isLoggedIn()">
      <a class="nav-link d-flex align-items-center" routerLink="/profile" routerLinkActive="active">
        <i class="bi bi-person-circle"></i>
        <span *ngIf="isOpen" class="ms-2">โปรไฟล์</span>
      </a>
    </li>

    <!-- จัดการระบบ: admin เห็น -->
    <li class="nav-item" *ngIf="auth.hasRole('admin')">
      <a class="nav-link d-flex align-items-center" routerLink="/admin" routerLinkActive="active">
        <i class="bi bi-gear"></i>
        <span *ngIf="isOpen" class="ms-2">จัดการระบบ</span>
      </a>
    </li>
    <!-- เข้าสู่ระบบ: guest เห็น -->
    <li class="nav-item" *ngIf="!auth.isLoggedIn()">
      <a class="nav-link d-flex align-items-center" routerLink="/login" routerLinkActive="active">
        <i class="bi bi-box-arrow-in-right"></i>
        <span *ngIf="isOpen" class="ms-2">เข้าสู่ระบบ</span>
      </a>
    </li>
    <!-- ออกจากระบบ: user และ admin เห็น -->
    <li class="nav-item" *ngIf="auth.isLoggedIn()">
      <a class="nav-link d-flex align-items-center" (click)="logout()">
        <i class="bi bi-box-arrow-right"></i>
        <span *ngIf="isOpen" class="ms-2">ออกจากระบบ</span>
      </a>
    </li>
  </ul>

  <div class="mt-auto p-2" *ngIf="isOpen">
    <div class="form-check form-switch mt-2">
      <input class="form-check-input" type="checkbox" id="darkMode">
      <label class="form-check-label" for="darkMode">Dark Mode</label>
    </div>
  </div>
</div>
